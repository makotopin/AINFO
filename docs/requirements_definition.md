# 要件定義書：AIニュース自動収集・配信システム

## 1. システムの目的
AIに関する最新かつ重要なニュースを毎日自動的に収集・要約し、Discordの特定のチャンネルに配信する。これにより、ユーザーやチームが手動でニュースを探す手間を省き、効率的に最新トレンドを追えるようにすることを目的とする。

## 2. ターゲットユーザー
- AIの最新動向を効率よくキャッチアップしたい開発者・リサーチャー
- 情報共有を目的とするDiscordのコミュニティメンバー

## 3. 機能要件
1. **ニュース収集機能**
   - 特定のソースに依存せず、Google NewsのRSS設定や汎用ニュースAPI等を用いて、広範囲からAI関連記事を取得する。
   - 特に注目するトピック：**Claude, Gemini, ChatGPTのアップデート・リリース情報**。
   - 発掘したいトピック：新しいAIを使ってみるきっかけとなる、**無料で試せる新しいAIサービス・ツール**の情報。
2. **重要度判定・要約機能（Gemini API）**
   - 取得した記事のタイトルや概要をGemini APIに送信し、「AIに関する重要なニュースか否か」を判定し評価・スコアリングする。
   - 抽出条件として、上記で挙げた「主要AIのアップデート情報」と「無料の新ツール情報」を高く評価させる。
   - スコアの高い上位のニュースについて、詳細かつ分かりやすい日本語の要約文を生成する。
3. **データ保存・重複排除機能（Supabase）**
   - 取得・処理した記事のデータをSupabaseのデータベースに保存する。
   - 過去に配信済み、あるいは既読として処理した記事はURL等をベースにスキップし、二重配信を防ぐ。
4. **配信機能（Discord通知）**
   - 厳選した **1日3件のニュース** を（タイトル、要約文、元記事へのリンク）Discordの指定チャンネルにWebhook経由で投稿する。

## 4. 非機能要件
1. **実行環境・インフラ**
   - GitHub Actionsのスケジュール実行（cron）を利用し、毎日1回指定した時間（例：朝8時）にバッチ処理として実行する。
   - サーバーレス・低コスト運用（GitHub Actions、Supabase、Gemini APIそれぞれの無料枠の範囲内）を前提とする。
2. **開発言語**
   - **Python** を使用する。
3. **セキュリティと環境変数**
   - Gemini APIキー、Supabase接続情報、Discord Webhook URLなどの機密情報は、ソースコードに直接記述せず、GitHub Secretsで安全に管理する。
4. **エラーハンドリング**
   - 各種APIのレートリミット（呼び出し制限）や一時的なネットワークエラーに対し、適切なエラーログを出力し、異常実行時にも原因を特定しやすくする。
